!function t(n,e,r){function o(u,c){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=e[u]={exports:{}};n[u][0].call(a.exports,function(t){var e=n[u][1][t];return o(e?e:t)},a,a.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n,e){"use strict";function r(t){var n="string"==typeof t._id&&o.isLocalId(t._id);return n||t._deleted}var o=t("./pouch-utils"),i=t("pouchdb-wrappers");e.transform=e.filter=function(t){var n=this,e=function(n){return!r(n)&&t.incoming?t.incoming(o.clone(n)):n},u=function(n){return!r(n)&&t.outgoing?t.outgoing(o.clone(n)):n},c={};"http"===n.type()&&(c.put=function(t,n){return n.doc=e(n.doc),t()},c.query=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=u(t.doc))}),t})}),c.get=function(t){return t().then(function(t){return Array.isArray(t)?t.forEach(function(t){t.ok&&(t.ok=u(t.ok))}):t=u(t),t})},c.bulkDocs=function(t,n){for(var r=0;r<n.docs.length;r++)n.docs[r]=e(n.docs[r]);return t()},c.allDocs=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=u(t.doc))}),t})},c.changes=function(t,n){function e(t){return t.doc&&(t.doc=u(t.doc)),t}function r(t){return t.results=t.results.map(e),t}if(n.options.complete){var o=n.options.complete;n.options.complete=function(t,n){return t?o(t):void o(null,r(n))}}var i=t(),c=i.on;i.on=function(t,n){return"change"===t?c.apply(i,[t,function(t){n(e(t))}]):"complete"===t?c.apply(i,[t,function(t){n(r(t))}]):c.apply(i,[t,n])};var s=i.then;return i.then=function(t,n){return s.apply(i,[function(n){t(r(n))},n])},i},i.installWrapperMethods(n,c)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},{"./pouch-utils":26,"pouchdb-wrappers":24}],2:[function(t,n,e){},{}],3:[function(t,n,e){var r=n.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(n){var e=[];return window.addEventListener("message",function(t){var n=t.source;if((n===window||null===n)&&"process-tick"===t.data&&(t.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(t){e.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],4:[function(t,n,e){"function"==typeof Object.create?n.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(t,n){t.super_=n;var e=function(){};e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},{}],5:[function(t,n,e){"use strict";function r(){}n.exports=r},{}],6:[function(t,n,e){"use strict";function r(t){function n(t,n){function o(t){a[n]=t,++f===e&!r&&(r=!0,s.resolve(p,a))}u(t).then(o,function(t){r||(r=!0,s.reject(p,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return i(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return u([]);for(var a=new Array(e),f=0,l=-1,p=new o(c);++l<e;)n(t[l],l);return p}var o=t("./promise"),i=t("./reject"),u=t("./resolve"),c=t("./INTERNAL"),s=t("./handlers");n.exports=r},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":12,"./resolve":13}],7:[function(t,n,e){"use strict";function r(t){var n=t&&t.then;return t&&"object"==typeof t&&"function"==typeof n?function(){n.apply(t,arguments)}:void 0}var o=t("./tryCatch"),i=t("./resolveThenable"),u=t("./states");e.resolve=function(t,n){var c=o(r,n);if("error"===c.status)return e.reject(t,c.value);var s=c.value;if(s)i.safely(t,s);else{t.state=u.FULFILLED,t.outcome=n;for(var a=-1,f=t.queue.length;++a<f;)t.queue[a].callFulfilled(n)}return t},e.reject=function(t,n){t.state=u.REJECTED,t.outcome=n;for(var e=-1,r=t.queue.length;++e<r;)t.queue[e].callRejected(n);return t}},{"./resolveThenable":14,"./states":15,"./tryCatch":16}],8:[function(t,n,e){n.exports=e=t("./promise"),e.resolve=t("./resolve"),e.reject=t("./reject"),e.all=t("./all"),e.race=t("./race")},{"./all":6,"./promise":9,"./race":11,"./reject":12,"./resolve":13}],9:[function(t,n,e){"use strict";function r(t){if(!(this instanceof r))return new r(t);if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c.PENDING,this.queue=[],this.outcome=void 0,t!==i&&u.safely(this,t)}var o=t("./unwrap"),i=t("./INTERNAL"),u=t("./resolveThenable"),c=t("./states"),s=t("./queueItem");n.exports=r,r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,n){if("function"!=typeof t&&this.state===c.FULFILLED||"function"!=typeof n&&this.state===c.REJECTED)return this;var e=new r(i);if(this.state!==c.PENDING){var u=this.state===c.FULFILLED?t:n;o(e,u,this.outcome)}else this.queue.push(new s(e,t,n));return e}},{"./INTERNAL":5,"./queueItem":10,"./resolveThenable":14,"./states":15,"./unwrap":17}],10:[function(t,n,e){"use strict";function r(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}var o=t("./handlers"),i=t("./unwrap");n.exports=r,r.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){o.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)}},{"./handlers":7,"./unwrap":17}],11:[function(t,n,e){"use strict";function r(t){function n(t){u(t).then(function(t){r||(r=!0,s.resolve(f,t))},function(t){r||(r=!0,s.reject(f,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return i(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return u([]);for(var a=-1,f=new o(c);++a<e;)n(t[a]);return f}var o=t("./promise"),i=t("./reject"),u=t("./resolve"),c=t("./INTERNAL"),s=t("./handlers");n.exports=r},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":12,"./resolve":13}],12:[function(t,n,e){"use strict";function r(t){var n=new o(i);return u.reject(n,t)}var o=t("./promise"),i=t("./INTERNAL"),u=t("./handlers");n.exports=r},{"./INTERNAL":5,"./handlers":7,"./promise":9}],13:[function(t,n,e){"use strict";function r(t){if(t)return t instanceof o?t:u.resolve(new o(i),t);var n=typeof t;switch(n){case"boolean":return c;case"undefined":return a;case"object":return s;case"number":return f;case"string":return l}}var o=t("./promise"),i=t("./INTERNAL"),u=t("./handlers");n.exports=r;var c=u.resolve(new o(i),!1),s=u.resolve(new o(i),null),a=u.resolve(new o(i),void 0),f=u.resolve(new o(i),0),l=u.resolve(new o(i),"")},{"./INTERNAL":5,"./handlers":7,"./promise":9}],14:[function(t,n,e){"use strict";function r(t,n){function e(n){c||(c=!0,o.reject(t,n))}function r(n){c||(c=!0,o.resolve(t,n))}function u(){n(r,e)}var c=!1,s=i(u);"error"===s.status&&e(s.value)}var o=t("./handlers"),i=t("./tryCatch");e.safely=r},{"./handlers":7,"./tryCatch":16}],15:[function(t,n,e){e.REJECTED=["REJECTED"],e.FULFILLED=["FULFILLED"],e.PENDING=["PENDING"]},{}],16:[function(t,n,e){"use strict";function r(t,n){var e={};try{e.value=t(n),e.status="success"}catch(r){e.status="error",e.value=r}return e}n.exports=r},{}],17:[function(t,n,e){"use strict";function r(t,n,e){o(function(){var r;try{r=n(e)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}var o=t("immediate"),i=t("./handlers");n.exports=r},{"./handlers":7,immediate:18}],18:[function(t,n,e){"use strict";function r(){i=!0;for(var t,n,e=s.length;e;){for(n=s,s=[],t=-1;++t<e;)n[t]();e=s.length}i=!1}function o(t){1!==s.push(t)||i||u()}for(var i,u,c=[t("./nextTick"),t("./mutation.js"),t("./messageChannel"),t("./stateChange"),t("./timeout")],s=[],a=-1,f=c.length;++a<f;)if(c[a]&&c[a].test&&c[a].test()){u=c[a].install(r);break}n.exports=o},{"./messageChannel":19,"./mutation.js":20,"./nextTick":2,"./stateChange":21,"./timeout":22}],19:[function(t,n,e){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};e.test=function(){return r.setImmediate?!1:"undefined"!=typeof r.MessageChannel},e.install=function(t){var n=new r.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}},{}],20:[function(t,n,e){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o=r.MutationObserver||r.WebKitMutationObserver;e.test=function(){return o},e.install=function(t){var n=0,e=new o(t),i=r.document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=n=++n%2}}},{}],21:[function(t,n,e){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};e.test=function(){return"document"in r&&"onreadystatechange"in r.document.createElement("script")},e.install=function(t){return function(){var n=r.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},r.document.documentElement.appendChild(n),t}}},{}],22:[function(t,n,e){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},{}],23:[function(t,n,e){"use strict";function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?a[d.call(t)]||"object":typeof t}function o(t){return null!==t&&t===t.window}function i(t){if(!t||"object"!==r(t)||t.nodeType||o(t))return!1;try{if(t.constructor&&!h.call(t,"constructor")&&!h.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var e;for(e in t);return void 0===e||h.call(t,e)}function u(t){return"function"===r(t)}function c(){for(var t=[],n=-1,e=arguments.length,r=new Array(e);++n<e;)r[n]=arguments[n];var o={};t.push({args:r,result:{container:o,key:"key"}});for(var i;i=t.pop();)s(t,i.args,i.result);return o.key}function s(t,n,e){var r,o,c,s,a,f,l,p=n[0]||{},d=1,h=n.length,y=!1,w=/\d+/;for("boolean"==typeof p&&(y=p,p=n[1]||{},d=2),"object"==typeof p||u(p)||(p={}),h===d&&(p=this,--d);h>d;d++)if(null!=(r=n[d])){l=v(r);for(o in r)if(!(o in Object.prototype)){if(l&&!w.test(o))continue;if(c=p[o],s=r[o],p===s)continue;y&&s&&(i(s)||(a=v(s)))?(a?(a=!1,f=c&&v(c)?c:[]):f=c&&i(c)?c:{},t.push({args:[y,f,s],result:{container:p,key:o}})):void 0!==s&&(v(r)&&u(s)||(p[o]=s))}}e.container[e.key]=p}for(var a={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var p=f[l];a["[object "+p+"]"]=p.toLowerCase()}var d=a.toString,h=a.hasOwnProperty,v=Array.isArray||function(t){return"array"===r(t)};n.exports=c},{}],24:[function(t,n,e){"use strict";function r(t,n,e){for(var r in n)if(n.hasOwnProperty(r)){var i=o(t,r),u=i.base[i.name];if(u)if(u.hasOwnProperty("_handlers")){if(-1!==u._handlers.indexOf(n[r]))throw new Error("Wrapper method for '"+r+"' already installed: "+n[r]);u._handlers.push(n[r])}else i.base[i.name]=e(r,u,n[r],t)}}function o(t,n){for(n=n.split(".");n.length>1;)t=t[n.shift(0)];return{base:t,name:n[0]}}function i(t,n,e,r,o){var u=r[t];if("undefined"==typeof i)throw new Error("No known wrapper for method name: "+t);var c=[e],s=u(o,n,c);return s._original=n,s._handlers=c,s}function u(t,n,e,r){return"function"==typeof e&&(r=e,e={}),{base:t||n,db:t||n,options:e||{},callback:r}}function c(t,n,e){var r=n.callback;delete n.callback,e=e.bind(n.base);for(var o=t.length-1;o>=0;o-=1)e=t[o].bind(null,e,n);var i=e();return l(i,r),i}function s(t){return function(){return t.call(this)}}function a(t,n){return function(){return t.call(this,n.options)}}function f(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r=o(t,e),i=r.base[r.name];if("undefined"!=typeof i){var u;try{u=i._handlers.indexOf(n[e])}catch(c){u=-1}if(-1===u)throw new Error("Wrapper method for '"+e+"' not installed: "+n[e]);i._handlers.splice(u,1),i._handlers.length||(delete r.base[r.name],r.base[r.name]!==i._original&&(r.base[r.name]=i._original))}}}var l=t("promise-nodify");e.installStaticWrapperMethods=function(t,n){t["new"]=t["new"]||function(n,e,r){return new t(n,e,r)},r(t,n,e.createStaticWrapperMethod)},e.installWrapperMethods=function(t,n){r(t,n,e.createWrapperMethod)},e.createStaticWrapperMethod=function(t,n,e,r){return i(t,n,e,d,r)},e.createWrapperMethod=function(t,n,e,r){return i(t,n,e,p,r)};var p={};p.destroy=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},p.put=function(t,n,e){return function(r,o,i,u,s){var a={};a.base=t||this,a.db=t||this;var f=Array.prototype.slice.call(arguments);a.doc=f.shift();for(var l=("_id"in a.doc);;){var p=f.shift(),d=typeof p;if("string"!==d||l?"string"!==d||!l||"_rev"in a.doc?"object"===d?a.options=p:"function"===d&&(a.callback=p):a.doc._rev=p:(a.doc._id=p,l=!0),!f.length)break}return a.options=a.options||{},c(e,a,function(){return n.call(this,a.doc,a.options)})}},p.post=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.doc=r,c(e,s,function(){return n.call(this,s.doc,s.options)})}},p.get=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.docId=r,c(e,s,function(){return n.call(this,s.docId,s.options)})}},p.remove=function(t,n,e){return function(r,o,i,s){var a;return"string"==typeof o?(a=u(t,this,i,s),a.doc={_id:r,_rev:o}):(a=u(t,this,o,i),a.doc=r),c(e,a,function(){return n.call(this,a.doc,a.options)})}},p.bulkDocs=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return"new_edits"in r&&(s.options.new_edits=r.new_edits),s.docs=r.docs||r,c(e,s,function(){return n.call(this,s.docs,s.options)})}},p.allDocs=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},p.changes=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},p.sync=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.url=r,c(e,s,function(){return n.call(this,s.url,s.options)})}},p["replicate.from"]=p.sync,p["replicate.to"]=p.sync,p.putAttachment=function(t,n,e){return function(r,o,i,s,a,f,l){var p;return"string"==typeof a?(p=u(t,this,f,l),p.rev=i,p.doc=s,p.type=a):(p=u(t,this,a,f),p.rev=null,p.doc=i,p.type=s),p.docId=r,p.attachmentId=o,c(e,p,function(){return n.call(this,p.docId,p.attachmentId,p.rev,p.doc,p.type)})}},p.getAttachment=function(t,n,e){return function(r,o,i,s){var a=u(t,this,i,s);return a.docId=r,a.attachmentId=o,c(e,a,function(){return n.call(this,a.docId,a.attachmentId,a.options)})}},p.removeAttachment=function(t,n,e){return function(r,o,i,s,a){var f=u(t,this,s,a);return f.docId=r,f.attachmentId=o,f.rev=i,c(e,f,function(){return n.call(this,f.docId,f.attachmentId,f.rev)})}},p.query=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.fun=r,c(e,s,function(){return n.call(this,s.fun,s.options)})}},p.viewCleanup=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},p.info=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},p.compact=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},p.revsDiff=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.diff=r,c(e,s,function(){return n.call(this,s.diff)})}},p.list=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.path=r,c(e,s,function(){return n.call(this,s.path,s.options)})}},p.rewriteResultRequestObject=p.list,p.show=p.list,p.update=p.list,p.getSecurity=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},p.putSecurity=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.secObj=r,c(e,s,function(){return n.call(this,s.secObj)})}};var d={};d["new"]=function(t,n,e){return function(r,o,i){var s;return"object"==typeof r?s=u(t,this,r,o):(s=u(t,this,o,i),s.options.name=r),c(e,s,function(){return n.call(this,s.options)})}},d.destroy=function(t,n,e){return function(r,o,i){var s;return"object"==typeof r?s=u(t,this,r,o):(s=u(t,this,o,i),s.options.name=r),s.options.internal?n.apply(t,arguments):c(e,s,function(){var t=s.options.name;return delete s.options.name,n.call(this,t,s.options)})}},d.replicate=function(t,n,e){return function(r,o,i,s){var a=u(t,this,i,s);return a.source=r,a.target=o,c(e,a,function(){return n.call(this,a.source,a.target,a.options)})}},d.allDbs=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},e.uninstallWrapperMethods=function(t,n){f(t,n)},e.uninstallStaticWrapperMethods=function(t,n){f(t,n)}},{"promise-nodify":25}],25:[function(t,n,e){"use strict";n.exports=function(t,n){"function"==typeof n&&t.then(function(t){n(null,t)},function(t){n(t,null)})}},{}],26:[function(t,n,e){var r,o=t("__browserify_process"),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof i.Promise?i.Promise:t("lie"),e.once=function(t){var n=!1;return e.getArguments(function(e){if(n)throw console.trace(),new Error("once called  more than once");n=!0,t.apply(this,e)})},e.getArguments=function(t){return function(){for(var n=arguments.length,e=new Array(n),r=-1;++r<n;)e[r]=arguments[r];return t.call(this,e)}},e.toPromise=function(t){return e.getArguments(function(n){var i,u=this,c="function"==typeof n[n.length-1]?n.pop():!1;c&&(i=function(t,n){o.nextTick(function(){c(t,n)})});var s=new r(function(r,o){try{var i=e.once(function(t,n){t?o(t):r(n)});n.push(i),t.apply(u,n)}catch(c){o(c)}});return i&&s.then(function(t){i(null,t)},i),s.cancel=function(){return this},s})},e.inherits=t("inherits"),e.Promise=r,e.extend=t("pouchdb-extend"),e.clone=function(t){return e.extend(!0,{},t)},e.isLocalId=function(t){return/^_local/.test(t)}},{__browserify_process:3,inherits:4,lie:8,"pouchdb-extend":23}]},{},[1]);
